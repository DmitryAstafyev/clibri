@startuml

    group UserLoginRequest
        Consumer -> Producer: UserLogin.Request
        Producer -->x Consumer: UserLogin.Err    
        == Accept ==
            Producer -> Consumer: UserLogin.Accepted    
            Producer -> Others: Events.UserConnected
            Producer -> Others: Events.Message
        == Deny ==
            Producer -> Consumer: UserLogin.Denied    
    end

    group UsersRequest
        Consumer -> Producer: Users.Request
        Producer -->x Consumer: Users.Err    
    end

    group MessageRequest
        Consumer -> Producer: Message.Request
        Producer -->x Consumer: Message.Err    
        == Accept ==
            Producer -> Consumer: Message.Accepted    
            Producer -> Others: Events.Message
        == Deny ==
            Producer -> Consumer: Message.Denied    
    end

    group MessagesRequest
        Consumer -> Producer: Messages.Request
        Producer -->x Consumer: Messages.Err    
    end

    group ServerEvents.UserKickOff
        Producer -> Producer: ServerEvents.UserKickOff    
        Producer --> Consumer: Events.Message
        Producer --> Consumer: Events.UserConnected
    end

    group Broadcasts
        Consumer -> Producer: Connected Event
        Consumer -> Producer: Disconnected Event
        Controller -> Producer: Direct call    
        Producer --> Consumer: Events.UserDisconnected
        Producer --> Consumer: Events.Message
    end

@enduml