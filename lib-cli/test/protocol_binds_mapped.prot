# Example of identification object
@Identification{
    str uuid;
    u64 id;
    str location;
}

# Example of request with implementation
struct UserSignInRequest {
    str login;
    str hash;
    u64 timestamp;
} > struct UserSignInResponse {
    str error?;
} : (Accept)    > accept;
                > broadcast:struct UserAccepted {
                      str login;
                  };
  : (Deny)      > deny;



# Example of request, just declaration
struct UserAccepted {
    str login;
}

struct UserSignInRequest {
    str login;
    str hash;
    u64 timestamp;
}

struct UserSignInResponse {
    str error?;
}

UserSignInRequest > UserSignInResponse
   : (Accept) > accept;
              > broadcast: UserSignInBroadcast;
   : (Deny)   > deny;

# Conclusion before response
UserSignInRequest > (Accept, Deny) > UserSignInResponse
   : (Accept) > accept;
              > broadcast: UserSignInBroadcast;
   : (Deny)   > deny;



# Example of consumer event
struct UserSignOut {
    str login;
    u64 timestamp;
}: (Done) > accept;
          > broadcast: struct UserSignOutBroadcast {
                str login;
            };

# Broadcast version

@broadcasts {
    struct UserDisconnected {
        str login;
        u64 timestamp;
    }
}